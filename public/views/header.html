<style type="text/css">
    .dropdown-submenu {
        position: relative;
    }

    .dropdown-submenu .dropdown-menu {
        top: 0;
        left: 100%;
        margin-top: -1px;
    }
</style>

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" ng-show="loggedIn" ng-cloak>
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" ui-sref="app"><img src="images/logo1.png" height=30 width=41></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li ng-class="{active: stateis('app.home')}"><a ui-sref="app">
                    <span class="glyphicon glyphicon-home"
                    aria-hidden="true"></span> Home</a>
                </li>
                <li ng-class="{active: stateis('app.registration')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle >
                        <span class="glyphicon glyphicon-user"
                        aria-hidden="true"></span> Registration
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ng-show="role.admin || role.incharge || role.manager" ui-sref="app.registration.new">New Registration</a>
                            <a ui-sref="app.choosePatient({callback:'registration.view'})">View/Edit Registration</a>

                        </li>
                    </ul>
                </li>
                <li ng-show="role.admin || role.incharge || role.manager" ng-class="{active: stateis('app.billing')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                        <span class="glyphicon glyphicon-usd"
                        aria-hidden="true"></span> Billing
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ui-sref="app.choosePatient({callback:'billing.newbill'})">New Bill</a>
                            <a ui-sref="app.billing.viewbill">View/Edit Bill</a>

                        </li>
                    </ul>
                </li>
                <li  ng-class="{active: stateis('app.appointment')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                        <span class="glyphicon glyphicon-calendar"
                        aria-hidden="true"></span> Appointment
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ng-show="role.admin || role.incharge || role.manager" ui-sref="app.choosePatient({callback:'appointment'})">Register A Patients Schedule</a>
                            <a ui-sref="app.appointment.viewAppointments">View/Change Appointments</a>

                        </li>
                    </ul>
                </li>
				
				<li ng-show="role.admin || role.incharge || role.clinical" ng-class="{active: stateis('app.dialysis_care_plan')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle >
                        <span class="glyphicon glyphicon-user"
                        aria-hidden="true"></span> Care Plan
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ui-sref="app.choosePatient({callback:'dialysis_care_plan.new'})">Add Care Plan</a>
                            <a ui-sref="app.choosePatient({callback:'dialysis_care_plan.view'})">View Care Plans</a>

                        </li>
                    </ul>
                </li>
				
				

              <!--  <li ng-class="{active: stateis('app.dialysis_care_plan')}">
                    <a ui-sref="app.choosePatient({callback:'dialysis_care_plan'})">
                        <span class="glyphicon glyphicon-list-alt"
                        aria-hidden="true">
                        </span> Dialysis Care Plan
                    </a>
                </li> -->


                <li ng-show="role.admin || role.incharge || role.clinical" ng-class="{active: stateis('app.monitoring')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                        <span class="glyphicon glyphicon-list-alt"
                        aria-hidden="true"></span> Monitoring Chart
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ui-sref="app.choosePatient({callback:'monitoring.new'})">Add New Monitoring Chart</a>
                            <a ui-sref="app.choosePatient({callback:'monitoring.view'})">View/Edit</a>

                        </li>
                    </ul>
                </li>

				
				<li ng-show="role.admin || role.incharge || role.manager" ng-class="{active: stateis('app.inventory')}" uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                        <span class="glyphicon glyphicon-tasks"
                        aria-hidden="true"></span> Inventory <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Indents <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.indent.new">Add Indent</a></li>
                                    <li><a ui-sref="app.inventory.indent.view"> View Indents</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Vendors <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.vendor.new">Add Vendors</a></li>
                                    <li><a ui-sref="app.inventory.vendor.view">View Vendors</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Treatment Consumption <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.consumption.new">Add Treatment Consumption</a></li>
                                    <li><a ui-sref="app.inventory.consumption.view">View Treatment Consumption</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Issue Stock<span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.stock.issued.new">Issue Stock From Store</a></li>
                                    <li><a ui-sref="app.inventory.stock.issued.view">View Issued Stock</a></li>
                                </ul>
                            </li>
							<!-- <a ui-sref="app.inventory.new_stock_received">Stock Received</a> -->
							<li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">General Consumption <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.consumption.general.new">Add General Consumption</a></li>
                                    <li><a ui-sref="app.inventory.consumption.general.view">View General Consumption</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">View Stocks <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.stock.view">Store</a></li>
                                    <li><a ui-sref="app.inventory.floor.view">Floor</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Items <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.item.add" ng-show="role.admin"> Add Items</a></li>
                                    <li><a ui-sref="app.inventory.item.view" ng-show="role.admin"> View/Edit Items</a></li>
                                </ul>
                            </li>
                            <li class="dropdown-submenu">
                                <a class="test" style="cursor: pointer; display: block;">Manage Treatment Items <span class="caret"></span></a>
                                <ul class="dropdown-menu"  >
                                    <li><a ui-sref="app.inventory.treatment.dialysis" ng-show="role.admin"> Dialysis</a></li>
                                    <li><a ui-sref="app.inventory.treatment.catheterization" ng-show="role.admin"> Catheterization</a></li>
                                </ul>
                            </li>
                        </li>
                    </ul>
                </li>
				
                <!-- <li ng-class="{active: stateis('app.admin')}">
                    <a ui-sref="app.admin">
                        <span class="glyphicon glyphicon-folder-open"
                        aria-hidden="true">
                        </span> Admin
                    </a>
                </li> -->

                <li ng-show="role.admin || role.incharge" ng-class="{active: stateis('app.admin')}" uib-dropdown on-toggle="toggled(open)">
                    <!-- <div class="dropdown">
                        
                    </div> -->
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                        <span class="glyphicon glyphicon-folder-open"
                        aria-hidden="true"></span> Admin <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu adminMenu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <!-- <li> -->
                        <li><a ui-sref="app.admin.editdatabase">Edit Database</a></li>
                        <li class="dropdown-submenu">
                            <a class="test" style="cursor: pointer; display: block;">Centre <span class="caret"></span></a>
                            <ul class="dropdown-menu"  >
                                <li><a ui-sref="app.admin.addcentre">Add Centre</a></li>
                                <li><a ui-sref="app.admin.editcentre">View/Edit Centres</a> </li>
                            </ul>
                        </li>
                        <!-- </li> -->
                        <li class="dropdown-submenu">
                            <a class="test" style="cursor: pointer; display: block;">User<span class="caret"></span></a>
                            <ul class="dropdown-menu"  >
                                <li><a ui-sref="app.admin.adduser">Add User</a></li>
                                <li><a ui-sref="app.admin.viewuser">View Users</a> </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li ng-show="loggedIn">
                    <a ng-click="chooseCentreOpen()" style="cursor: pointer;">{{centre}}</a>
                </li>
				
				<li uib-dropdown on-toggle="toggled(open)">
                    <a style="cursor: pointer; display: block;" class="simple-dropdown" uib-dropdown-toggle>
                         {{username}}
                    </a>
                    <ul class="dropdown-menu" uib-dropdown-menu  aria-labelledby="simple-dropdown">
                        <li>
                            <a ng-click=changePasswordOpen() style="cursor: pointer; display: block;">Change Password</a>
                            <a ng-click="logout()" style="cursor: pointer; display: block;">LogOut</a>

                        </li>
                    </ul>
                </li>
				
				

            </ul>
        </div>
    </div>
</nav>         

<script>
$(document).ready(function(){
  $('.dropdown-submenu a.test').on("click", function(e){
    $(this).next('ul').toggle();
    $(this).parent('li').siblings('li').children('ul').hide();
    e.stopPropagation();
    e.preventDefault();
  });
});

</script>
