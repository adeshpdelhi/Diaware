
<div id="Registerbox" style="margin-top:20px;" class="mainbox" ng-cloak>                    
    <div class="panel" >
        <div class="panel-heading">
            <div class="panel-title"><b>{{editBasic?'Update Basic Details': 'Basic Details'}}</b></div>
            <div style="float:right; font-size: 80%; position: relative; top:-10px"></div>
        </div>     

        <div style="padding-top:30px" class="panel-body">
            <div class="alert alert-warning" ng-show="centreInvalidToSubmit">
                You have selected all centers! Please choose a single center.
            </div>
            <form class="form-horizontal" name="basicDetailsForm" ng-submit="basicDetailsForm.$valid && editBasic?updateBasicDetails():save_basic_details()" role="form" novalidate>

                <!-- <div class="form-group ">
                    <label class="col-sm-3 control-label">ID Number</label>
                    <div class="col-sm-8">
                        <input type="number" class="form-control" id="id" name="id" placeholder="Enter ID" disabled>
                    </div>
                </div> -->

                <div class="form-group" ng-class="{'has-error': basicDetailsForm.name.$invalid && !basicDetailsForm.name.$pristine}">
                    <label class="col-sm-3 control-label">Name *</label>                        
                    <div class="col-sm-8">
                        <input required type="text" class="form-control" id="name" name="name" placeholder="Enter Name" ng-model="newpatient_basic.name" required>
                        <span ng-show="basicDetailsForm.name.$error.required && !basicDetailsForm.name.$pristine" class="help-block">Patient Name is required                      
                        </span>    
                    </div>
                </div>


                <div class="form-group"  ng-class="{'has-error': basicDetailsForm.dob.$invalid && !basicDetailsForm.dob.$pristine}">
                    <label class="col-sm-3 control-label">DOB *</label>
                    <div class="col-sm-8">
                        <input required type="date" class="form-control" id="dob" name="dob" placeholder="Enter DOB" ng-model="newpatient_basic.DOB" ng-change="setAge()" required>
                        <span ng-show="basicDetailsForm.dob.$error.required && !basicDetailsForm.dob.$pristine" class="help-block">Patient DOB is required                      
                        </span>    
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Age</label>
                    <div class="col-sm-8">
                        <input type="number" class="form-control" id="age" name="age" placeholder="Enter Age" ng-model="newpatient_basic.age" disabled>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Blood Group *</label>               
                    <div class="col-sm-8 ">
                        <select  required name="blood_group"  class="form-control" ng-model="newpatient_basic.bloodGroup">
                            <option value=""  selected disabled>-</option>
                            <option value="A+" >A+</option>
                            <option value="A-" >A-</option>
                            <option value="B+" >B+</option>
                            <option value="B-" >B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O-" >O-</option>
                            <option value="O+" >O+</option>

                        </select>
                    </div>
                </div>


                <div class="form-group" ng-class="{'has-error': basicDetailsForm.gender.$invalid && !basicDetailsForm.gender.$pristine}">
                    <label  class="col-sm-3 control-label">Gender *</label>
                    <div class="col-sm-8 ">
                        <select required name="gender"  class="form-control" ng-model="newpatient_basic.gender" required>
                            <option value="" selected disabled>-</option>
                            <option value="Male" >Male</option>
                            <option value="Female">Female</option>
                        </select>
                        <span ng-show="basicDetailsForm.gender.$error.required && !basicDetailsForm.gender.$pristine" class="help-block">Patient Gender is required                      
                        </span>    
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Location *</label>
                    <div class="col-sm-8">
                        <input required type="text" class="form-control" id="location" name="location" placeholder="Enter Location" ng-model="newpatient_basic.location">
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-3 control-label">Address *</label>
                    <div class="col-sm-8">
                        <textarea required  class="form-control" id="address" name="address" rows="4" ng-model="newpatient_basic.address"></textarea>
                    </div>
                </div>             
                <div class="form-group">
                    <label class="col-sm-3 control-label">Contact No</label>
                    <div class="col-sm-8">
                        <input type="mobile_no" class="form-control" id="mobile_no" name="mobile_no" placeholder="Mobile number" ng-model="newpatient_basic.contact">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Alternative Contact No</label>
                    <div class="col-sm-8">
                        <input type="number" class="form-control" id="alternative_contact_no" name="alternative_contact_no" placeholder="Mobile number" ng-model="newpatient_basic.alternativeContact">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Marrital Status</label>
                    <div class="col-sm-8">
                        <select name="marital_status" class="form-control" ng-model="newpatient_basic.maritalStatus">
                            <option value="" selected="" disabled>-</option>
                            <option value="married"  >Married</option>
                            <option value="unmarried"  >Unmarried</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Referred By</label>                        
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="referred_by" name="relations" placeholder="Referred By" ng-model="newpatient_basic.referredBy">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Children (Yes/No)</label>                       
                    <div class="col-sm-3 ">
                        <select name="children"  class="form-control" ng-model="newpatient_basic.hasChildren">
                            <option value="" selected disabled>-</option>
                            <option value="Yes"  >Yes</option>
                            <option value="No" >No</option>
                        </select>
                    </div>

                    <label class="col-sm-3 control-label">Number</label>
                    <div class="col-sm-2">
                        <input type="number" class="form-control" id="no_of_children" name="no_of_children" ng-model="newpatient_basic.numberOfChildren" min="0">
                    </div>

                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Children Contact No</label>
                    <div class="col-sm-8">
                        <input type="mobile_no" class="form-control" id="children_contact_no" name="children_contact_no" placeholder="Children Mobile number" ng-model="newpatient_basic.childrenContact">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Transplant Waiting List *</label>                       
                    <div class="col-sm-8 ">
                        <select required class="form-control" ng-model="newpatient_basic.transplantWaitingList">
                            <option value="" selected disabled>-</option>
                            <option value="Yes"  >Yes</option>
                            <option value="No" >No</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-3 control-label">Employement Status</label>
                    <div class="col-sm-8 ">
                        <select name="employement_status" class="form-control" ng-model="newpatient_basic.employementStatus">
                            <option value="" selected disabled>-</option>
                            <option value="salaried" >Salaried</option>
                            <option value="businessman" >Businessman</option>
                            <option value="professional">Professional</option>
                            <option value="farmer"  >Farmer</option>
                            <option value="unemployed" >Unemployed</option>
                            <option value="other" >Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Office Name</label>                        
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="office_name" name="office_name" placeholder="Office name" ng-model="newpatient_basic.officeName">
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-3 control-label">Office Address</label>
                    <div class="col-sm-8">
                        <textarea class="form-control" id="office_address" name="office_address" rows="3" ng-model="newpatient_basic.officeAddress"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Viral Market Status *</label>                        
                    <div class="col-sm-8">
                        <select required class="form-control" ng-model="newpatient_basic.viralMarkerStatus">
                            <option value="" selected disabled>-</option>
                            <option value="Yes" >Yes</option>
                            <option value="No" >No</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label  class="col-sm-3 control-label">Doctor Name *</label>                        
                    <div class="col-sm-8">
                        <input required type="text" class="form-control" id="doctor_name" name="doctor_name" placeholder="Doctor Name" ng-model="newpatient_basic.doctorName">
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': basicDetailsForm.payment_mode.$invalid && !basicDetailsForm.payment_mode.$pristine}" >
                    <label class="col-sm-3 control-label">Payment Mode *</label>
                    <div class="col-sm-8">
                        <select name="payment_mode" id="payment_mode" class="form-control" ng-model="newpatient_basic.modeOfPayment" required>
                            <option value="" selected disabled>-</option>
                            <option value="Cash" >Cash</option>
                            <option value="Panel" >Panel</option>

                        </select>
                        <span ng-show="basicDetailsForm.payment_mode.$error.required && !basicDetailsForm.payment_mode.$pristine" class="help-block">Payment Mode of Patient is required                      
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label  class="col-sm-3 control-label">Other Clinical Details</label>
                    <div class="col-sm-8">
                        <textarea  class="form-control" id="other_clinical_details" name="other_clinical_details" rows="2" ng-model="newpatient_basic.otherClinicalDetails"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <hr style="border-top: 1px solid rgb(200,200,200)"/>
                    <label  class="col-sm-11 control-label  text-uppercase" style="font-size:125%; font-weight:130%; font-family:verdana;">Person to be contacted in case of Emergency</label>  
                </div>
                <div class="form-group">
                    <label  class="col-sm-3 control-label">Contact Name</label>                        
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="emergency_name" name="emergency_name" placeholder="Name" ng-model="newpatient_basic.emergencyContactName">
                    </div>
                </div>

                <div class="form-group">

                    <label  class="col-sm-3 control-label">Relationship</label>                        
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="emergency_name" name="emergency_name" placeholder="Name" ng-model="newpatient_basic.emergencyContactRelationship">
                    </div>
                </div>
                <div class="form-group">

                    <label class="col-sm-3 control-label">Mobile No</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="emergency_mobile_no" name="emergency_mobile_no" placeholder="Mobile number" ng-model="newpatient_basic.emergencyContactMobile">
                    </div>

                </div>

                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-10">
                        <button id="register" type="submit" class="btn btn-primary" ng-show="editBasic || !savedOnce" ng-disabled="centreInvalidToSubmit || basicDetailsForm.$invalid">{{editBasic?'Update':'Register'}}</button>
                    </div>
                </div>
				
				<div class="form-group">
					<div class="alert alert-{{messageColor}} alert-dismissable" ng-show="showalert_basic_details">
						<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
						{{message}}
					</div>
				</div>

            </form>
        </div>
    </div>
</div>



